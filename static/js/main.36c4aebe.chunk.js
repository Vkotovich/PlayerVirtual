(this["webpackJsonpVirtual-World"]=this["webpackJsonpVirtual-World"]||[]).push([[0],{196:function(e,t,r){},204:function(e,t,r){"use strict";r.r(t);r(118),r(144),r(146),r(147),r(149),r(150),r(151),r(152),r(153),r(154),r(155),r(156),r(158),r(159),r(160),r(161),r(162),r(163),r(164),r(165),r(166),r(167),r(169),r(170),r(171),r(172),r(173),r(174),r(175),r(176),r(177),r(178),r(179),r(180),r(181),r(182),r(183),r(184),r(185),r(186);var n=r(0),a=r(58),c=r.n(a),s=r(38),i=r.n(s),o=r(54),u=r.n(o),l=r(83),j=r(48),b=r(47),d=r(85),h=r(53),f=r(116),O=r(86),p=r.n(O),x=(r(195),r(113)),v=r(114),m=r(117),y=r(84),S=r(64),g=r(65),k=(r(196),r(13)),w=function(e){var t=e.id,r=e.go,a=e.route,c=e.fetchedUser,s=e.userHasSeenIntro;return Object(k.jsxs)(x.a,{id:t,centered:!0,children:[Object(k.jsx)(v.a,{children:"\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430"}),c&&!s&&Object(k.jsxs)(n.Fragment,{children:[Object(k.jsx)(m.a,{children:Object(k.jsxs)(y.a,{className:"User",children:[c.photo_200?Object(k.jsx)(h.a,{src:c.photo_200}):null,Object(k.jsxs)("h3",{children:[c.first_name,", \u0438\u0433\u0440\u0430 \u043d\u0430\u0445\u043e\u0434\u0438\u0442 \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438!    \u0412\u0441\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0439\u0442\u0438 \u0443 \u043d\u0430\u0441 \u0432 \u0433\u0440\u0443\u043f\u043f\u0435!"]})]})}),Object(k.jsx)(g.a,{vertical:"bottom",children:Object(k.jsx)(y.a,{children:Object(k.jsx)(S.a,{stretched:!0,size:"l",mode:"commerce",onClick:function(){return r(a)},children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u0433\u0440\u0443\u043f\u043f\u0443"})})})]})]})},A="home",I="intro",V="state",W="viewStatus",C=function(){var e=Object(n.useState)(I),t=Object(j.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)(null),s=Object(j.a)(c,2),o=s[0],O=s[1],x=Object(n.useState)(null),v=Object(j.a)(x,2),m=v[0],y=v[1],S=Object(n.useState)(null),g=Object(j.a)(S,2),C=g[0],_=g[1],K=Object(n.useState)(Object(k.jsx)(f.a,{size:"large"})),U=Object(j.a)(K,2),z=U[0],E=U[1],J=Object(n.useState)(!1),N=Object(j.a)(J,2),G=N[0],H=N[1];Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(u.a.mark((function e(){var t,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.send("VKWebAppGetUserInfo");case 2:return t=e.sent,e.next=5,i.a.send("VKWebAppStorageGet",{keys:[V,W]});case 5:r=e.sent,Array.isArray(r.keys)?(n={},r.keys.forEach((function(e){var t=e.key,r=e.value;try{switch(n[t]=r?JSON.parse(r):{},t){case V:y(n[V]);break;case W:n[t]&&n[t].hasSeenIntro&&(a(A),H(!0))}}catch(c){_(Object(k.jsx)(d.a,{layout:"vertical",onClose:function(){return _(null)},before:Object(k.jsx)(h.a,{size:24,style:{backgroundColor:"var(--dynamic_red)"},children:Object(k.jsx)(p.a,{fill:"#fff",width:14,height:14})}),duration:900,children:"\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 Storage"})),y({})}}))):y({}),O(t),E(null);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}i.a.subscribe((function(e){var t=e.detail,r=t.type,n=t.data;if("VKWebAppUpdateConfig"===r){var a=document.createAttribute("scheme");a.value=n.scheme?n.scheme:"client_light",document.body.attributes.setNamedItem(a)}})),function(){e.apply(this,arguments)}()}),[]);var B=function(e){a(e)},F=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.send("VKWebAppStorageSet",{key:W,value:JSON.stringify({hasSeenIntro:!0})});case 3:B(t),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),_(Object(k.jsx)(d.a,{layout:"vertical",onClose:function(){return _(null)},before:Object(k.jsx)(h.a,{size:24,style:{backgroundColor:"var(--dynamic_red)"},children:Object(k.jsx)(p.a,{fill:"#fff",width:14,height:14})}),duration:900,children:"\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u043e\u0439 \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 Storage"}));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)(b.a,{activePanel:r,popout:z,children:[Object(k.jsx)(w,{id:A,fetchedState:m,snackbarError:C}),Object(k.jsx)(w,{id:I,fetchedUser:o,go:F,route:A,userHasSeenIntro:G})]})};i.a.send("VKWebAppInit"),c.a.render(Object(k.jsx)(C,{}),document.getElementById("root"))}},[[204,1,2]]]);
//# sourceMappingURL=main.36c4aebe.chunk.js.map